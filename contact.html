<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
      Ian Kleinfeld, Health Information Technologist, Data Analyst, UX/UI
      Designer
    </title>
    <link rel="stylesheet" href="https://use.typekit.net/ehs7hdf.css" />

    <link rel="stylesheet" href="styles/styles.css" />
    <script
      type="text/javascript"
      src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"
    ></script>
    <script type="text/javascript">
      (function () {
        emailjs.init({
          publicKey: "-4ilvWRZ7KKeZiJ58",
        });
      })();

      window.onload = function () {
        document
          .getElementById("contact-form")
          .addEventListener("submit", function (event) {
            event.preventDefault();

            // Show sending state
            const button = this.querySelector("button");
            const originalText = button.textContent;
            button.textContent = "Sending...";
            button.disabled = true;

            emailjs.sendForm("service_d4cucsw", "template_295lo2w", this).then(
              (response) => {
                console.log("SUCCESS!", response);
                alert("Message sent successfully!");
                this.reset();
                button.textContent = originalText;
                button.disabled = false;
              },
              (error) => {
                console.error("FAILED...", error);
                if (error.text) {
                  console.error("Error details:", error.text);
                }
                alert("Failed to send message. Please try again.");
                console.log("EmailJS Error:", error);
                button.textContent = originalText;
                button.disabled = false;
              }
            );
          });
      };
    </script>
  </head>
  <body>
    <main>
      <div class="thin-blue-line">
        <nav class="main-nav">
          <a href="index.html">Home</a>
          <a href="contact.html">Contact</a>
          <a href="https://calendly.com/ianformatics" target="_blank"
            >Schedule a Consultation</a
          >
        </nav>
      </div>
      <header>
        <div class="title">
          <img
            src="img/ianformatics-header.jpg"
            alt="Ian Kleinfeld, Health Information Technologist, Data Analyst, UX/UI Designer"
          />
        </div>
        <!-- <div class="hero">
          <img
            class="hero"
            src="img/ianformatics-hero.jpg"
            alt="Ian Kleinfeld, Health Information Technologist, Data Analyst, UX/UI Designer"
          />
        </div> -->
      </header>
      <h1>Contact</h1>
      <p>
        Please use the form below to send an e-mail or call
        <a href="tel:19193576004">919-357-6004</a> during east coast business
        hours 9-5.
      </p>
      <form id="contact-form">
        <input type="hidden" name="contact_number" />
        <label>Name</label>
        <input type="text" name="from_name" required />
        <label>Email</label>
        <input type="email" name="from_email" required />
        <label>Message</label>
        <textarea name="message" rows="5" required></textarea>
        <button type="submit">Send</button>
      </form>
    </main>
    <footer>
      <div class="footer-container">
        <nav class="footer-nav">
          <a href="index.html">Home</a>
          <a href="contact.html">Contact</a>
          <a href="https://calendly.com/ianformatics" target="_blank"
            >Schedule a Consultation</a
          >
        </nav>
        <div class="footer-text">&copy; 2025 Ian Kleinfeld</div>
      </div>
    </footer>
  </body>
</html>
